import{d as te,r as O,aa as Ne,bg as Ee,b as L,av as De,bh as Ye,aH as qe,p as Ke,Z as Je,bi as Qe,bj as Ze,aT as pe,be as ze,bf as Me,ac as D,bk as et,T as Le,bl as tt,bm as je,bn as nt,bo as st,bp as ot,am as R,bq as me,an as q,ao as ee,aO as ie,br as rt,bs as at,aw as Fe,aS as Be,aR as Re,ap as Ie,bt as it,az as lt,bu as ct,bv as dt,bw as ut,bx as ft,aX as ne,aB as pt,by as ht,l as ve,k as ue,n as ge,Q as mt,bz as Ue,bA as vt,e as be,o as N,c as J,f as d,w as c,u as n,bB as de,bC as Q,a as e,t as E,z as F,U as Ae,i as se,y as U,B as G,v as Z,bD as oe,F as He,s as gt,bE as bt,bF as yt,I as We,ae as Ge,a6 as he,a7 as Pe,a_ as _t,a$ as Se,bG as $e,M as Oe,bH as xt,bI as wt,a9 as Ct,bJ as kt,q as Te,bK as St,bL as $t,A as ce,bM as fe,D as zt,K as Tt,ak as Et,bN as At,bO as Pt,ab as Mt}from"./index-c84c64f4.js";import{N as Xe}from"./DataTable-255762e3.js";import{_ as Bt}from"./titleBar.vue_vue_type_script_setup_true_lang-27515920.js";import{N as Rt}from"./LayoutSider-7fcfe0c7.js";import"./Dropdown-fd1ad6e4.js";import"./Select-57cfe748.js";const It=te({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(o){const s=O(!!o.show),r=O(null),A=Ne(Ee);let _=0,u="",l=null;const t=O(!1),a=O(!1),f=L(()=>o.placement==="top"||o.placement==="bottom"),{mergedClsPrefixRef:b,mergedRtlRef:x}=De(o),$=Ye("Drawer",x,b),z=k=>{a.value=!0,_=f.value?k.clientY:k.clientX,u=document.body.style.cursor,document.body.style.cursor=f.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",B),document.body.addEventListener("mouseleave",g),document.body.addEventListener("mouseup",I)},v=()=>{l!==null&&(window.clearTimeout(l),l=null),a.value?t.value=!0:l=window.setTimeout(()=>{t.value=!0},300)},i=()=>{l!==null&&(window.clearTimeout(l),l=null),t.value=!1},{doUpdateHeight:p,doUpdateWidth:M}=A,W=k=>{const{maxWidth:j}=o;if(j&&k>j)return j;const{minWidth:H}=o;return H&&k<H?H:k},X=k=>{const{maxHeight:j}=o;if(j&&k>j)return j;const{minHeight:H}=o;return H&&k<H?H:k},B=k=>{var j,H;if(a.value)if(f.value){let V=((j=r.value)===null||j===void 0?void 0:j.offsetHeight)||0;const K=_-k.clientY;V+=o.placement==="bottom"?K:-K,V=X(V),p(V),_=k.clientY}else{let V=((H=r.value)===null||H===void 0?void 0:H.offsetWidth)||0;const K=_-k.clientX;V+=o.placement==="right"?K:-K,V=W(V),M(V),_=k.clientX}},I=()=>{a.value&&(_=0,a.value=!1,document.body.style.cursor=u,document.body.removeEventListener("mousemove",B),document.body.removeEventListener("mouseup",I),document.body.removeEventListener("mouseleave",g))},g=I;qe(()=>{o.show&&(s.value=!0)}),Ke(()=>o.show,k=>{k||I()}),Je(()=>{I()});const T=L(()=>{const{show:k}=o,j=[[Me,k]];return o.showMask||j.push([Qe,o.onClickoutside,void 0,{capture:!0}]),j});function S(){var k;s.value=!1,(k=o.onAfterLeave)===null||k===void 0||k.call(o)}return Ze(L(()=>o.blockScroll&&s.value)),pe(nt,r),pe(st,null),pe(ot,null),{bodyRef:r,rtlEnabled:$,mergedClsPrefix:A.mergedClsPrefixRef,isMounted:A.isMountedRef,mergedTheme:A.mergedThemeRef,displayed:s,transitionName:L(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[o.placement]),handleAfterLeave:S,bodyDirectives:T,handleMousedownResizeTrigger:z,handleMouseenterResizeTrigger:v,handleMouseleaveResizeTrigger:i,isDragging:a,isHoverOnResizeTrigger:t}},render(){const{$slots:o,mergedClsPrefix:s}=this;return this.displayDirective==="show"||this.displayed||this.show?ze(D("div",{role:"none"},D(et,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>D(Le,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>ze(D("div",tt(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${s}-drawer`,this.rtlEnabled&&`${s}-drawer--rtl`,`${s}-drawer--${this.placement}-placement`,this.isDragging&&`${s}-drawer--unselectable`,this.nativeScrollbar&&`${s}-drawer--native-scrollbar`]}),[this.resizable?D("div",{class:[`${s}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${s}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?D("div",{class:[`${s}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},o):D(je,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${s}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),o)]),this.bodyDirectives)})})),[[Me,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Ot,cubicBezierEaseOut:Nt}=me;function Dt({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-right"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Ot}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${Nt}`}),R(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateX(100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Lt,cubicBezierEaseOut:jt}=me;function Ft({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-left"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Lt}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${jt}`}),R(`&.${r}-transition-enter-to`,{transform:"translateX(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateX(-100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateX(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Ut,cubicBezierEaseOut:Ht}=me;function Wt({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-top"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Ut}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${Ht}`}),R(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateY(-100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:Gt,cubicBezierEaseOut:Xt}=me;function Vt({duration:o="0.3s",leaveDuration:s="0.2s",name:r="slide-in-from-bottom"}={}){return[R(`&.${r}-transition-leave-active`,{transition:`transform ${s} ${Gt}`}),R(`&.${r}-transition-enter-active`,{transition:`transform ${o} ${Xt}`}),R(`&.${r}-transition-enter-to`,{transform:"translateY(0)"}),R(`&.${r}-transition-enter-from`,{transform:"translateY(100%)"}),R(`&.${r}-transition-leave-from`,{transform:"translateY(0)"}),R(`&.${r}-transition-leave-to`,{transform:"translateY(100%)"})]}const Yt=R([q("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Dt(),Ft(),Wt(),Vt(),ee("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),ee("native-scrollbar",[q("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),ie("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[ee("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),q("drawer-content-wrapper",`
 box-sizing: border-box;
 `),q("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[ee("native-scrollbar",[q("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),q("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),q("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),q("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[ie("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),q("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),ee("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 `,[ie("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),ee("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 `,[ie("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),ee("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 `,[ie("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),ee("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 `,[ie("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),R("body",[R(">",[q("drawer-container",{position:"fixed"})])]),q("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[R("> *",{pointerEvents:"all"})]),q("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[ee("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),rt({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),qt=Object.assign(Object.assign({},Fe.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),Kt=te({name:"Drawer",inheritAttrs:!1,props:qt,setup(o){const{mergedClsPrefixRef:s,namespaceRef:r,inlineThemeDisabled:A}=De(o),_=at(),u=Fe("Drawer","-drawer",Yt,ut,o,s),l=O(o.defaultWidth),t=O(o.defaultHeight),a=Be(Re(o,"width"),l),f=Be(Re(o,"height"),t),b=L(()=>{const{placement:g}=o;return g==="top"||g==="bottom"?"":Ie(a.value)}),x=L(()=>{const{placement:g}=o;return g==="left"||g==="right"?"":Ie(f.value)}),$=g=>{const{onUpdateWidth:T,"onUpdate:width":S}=o;T&&ne(T,g),S&&ne(S,g),l.value=g},z=g=>{const{onUpdateHeight:T,"onUpdate:width":S}=o;T&&ne(T,g),S&&ne(S,g),t.value=g},v=L(()=>[{width:b.value,height:x.value},o.drawerStyle||""]);function i(g){const{onMaskClick:T,maskClosable:S}=o;S&&X(!1),T&&T(g)}function p(g){i(g)}const M=it();function W(g){var T;(T=o.onEsc)===null||T===void 0||T.call(o),o.show&&o.closeOnEsc&&ft(g)&&!M.value&&X(!1)}function X(g){const{onHide:T,onUpdateShow:S,"onUpdate:show":k}=o;S&&ne(S,g),k&&ne(k,g),T&&!g&&ne(T,g)}pe(Ee,{isMountedRef:_,mergedThemeRef:u,mergedClsPrefixRef:s,doUpdateShow:X,doUpdateHeight:z,doUpdateWidth:$});const B=L(()=>{const{common:{cubicBezierEaseInOut:g,cubicBezierEaseIn:T,cubicBezierEaseOut:S},self:{color:k,textColor:j,boxShadow:H,lineHeight:V,headerPadding:K,footerPadding:ye,bodyPadding:_e,titleFontSize:xe,titleTextColor:we,titleFontWeight:re,headerBorderBottom:le,footerBorderTop:Ce,closeIconColor:ke,closeIconColorHover:C,closeIconColorPressed:m,closeColorHover:h,closeColorPressed:y,closeIconSize:w,closeSize:P,closeBorderRadius:Y,resizableTriggerColorHover:ae}}=u.value;return{"--n-line-height":V,"--n-color":k,"--n-text-color":j,"--n-box-shadow":H,"--n-bezier":g,"--n-bezier-out":S,"--n-bezier-in":T,"--n-header-padding":K,"--n-body-padding":_e,"--n-footer-padding":ye,"--n-title-text-color":we,"--n-title-font-size":xe,"--n-title-font-weight":re,"--n-header-border-bottom":le,"--n-footer-border-top":Ce,"--n-close-icon-color":ke,"--n-close-icon-color-hover":C,"--n-close-icon-color-pressed":m,"--n-close-size":P,"--n-close-color-hover":h,"--n-close-color-pressed":y,"--n-close-icon-size":w,"--n-close-border-radius":Y,"--n-resize-trigger-color-hover":ae}}),I=A?lt("drawer",void 0,B,o):void 0;return{mergedClsPrefix:s,namespace:r,mergedBodyStyle:v,handleOutsideClick:p,handleMaskClick:i,handleEsc:W,mergedTheme:u,cssVars:A?void 0:B,themeClass:I==null?void 0:I.themeClass,onRender:I==null?void 0:I.onRender,isMounted:_}},render(){const{mergedClsPrefix:o}=this;return D(dt,{to:this.to,show:this.show},{default:()=>{var s;return(s=this.onRender)===null||s===void 0||s.call(this),ze(D("div",{class:[`${o}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?D(Le,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?D("div",{"aria-hidden":!0,class:[`${o}-drawer-mask`,this.showMask==="transparent"&&`${o}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,D(It,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[ct,{zIndex:this.zIndex,enabled:this.show}]])}})}}),Jt={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},Qt=te({name:"DrawerContent",props:Jt,setup(){const o=Ne(Ee,null);o||pt("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:s}=o;function r(){s(!1)}return{handleCloseClick:r,mergedTheme:o.mergedThemeRef,mergedClsPrefix:o.mergedClsPrefixRef}},render(){const{title:o,mergedClsPrefix:s,nativeScrollbar:r,mergedTheme:A,bodyClass:_,bodyStyle:u,bodyContentClass:l,bodyContentStyle:t,headerClass:a,headerStyle:f,footerClass:b,footerStyle:x,scrollbarProps:$,closable:z,$slots:v}=this;return D("div",{role:"none",class:[`${s}-drawer-content`,r&&`${s}-drawer-content--native-scrollbar`]},v.header||o||z?D("div",{class:[`${s}-drawer-header`,a],style:f,role:"none"},D("div",{class:`${s}-drawer-header__main`,role:"heading","aria-level":"1"},v.header!==void 0?v.header():o),z&&D(ht,{onClick:this.handleCloseClick,clsPrefix:s,class:`${s}-drawer-header__close`,absolute:!0})):null,r?D("div",{class:[`${s}-drawer-body`,_],style:u,role:"none"},D("div",{class:[`${s}-drawer-body-content-wrapper`,l],style:t,role:"none"},v)):D(je,Object.assign({themeOverrides:A.peerOverrides.Scrollbar,theme:A.peers.Scrollbar},$,{class:`${s}-drawer-body`,contentClass:[`${s}-drawer-body-content-wrapper`,l],contentStyle:t}),v),v.footer?D("div",{class:[`${s}-drawer-footer`,b],style:x,role:"none"},v.footer()):null)}}),Zt={1:"注册赠送",2:"受邀请赠送",3:"邀请他人赠送",4:"购买卡密充值",5:"管理员赠送",6:"扫码购买充值",7:"MJ绘画失败退款",8:"签到奖励"},en={class:"flex h-full flex-col"},tn=e("div",null,"用户钱包余额",-1),nn=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 基础模型余额 ",-1),sn={class:"text-3xl text-[#555]"},on=e("span",{class:"ml-4 text-[#989898]"},"每次对话根据模型消费不同积分！",-1),rn=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 高级模型余额 ",-1),an={class:"text-3xl text-[#555]"},ln=e("span",{class:"ml-4 text-[#989898]"},"每次对话根据模型消费不同积分！",-1),cn=e("div",{class:"text-[#95aac9] mb-2 text-base"}," MJ绘画余额 ",-1),dn={class:"text-3xl text-[#555]"},un=e("span",{class:"ml-4 text-[#989898]"},"根据画图动作消耗不同的积分！",-1),fn=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 卡密充值 ",-1),pn=e("div",null,"充值记录",-1),hn={class:"relative"},mn=["src"],vn={class:"flex justify-between items-end min-h-28"},gn=e("span",{class:"text-sm font-bold mr-1"},"基础模型额度",-1),bn={class:"font-bold"},yn={class:"flex justify-between items-end min-h-28"},_n=e("span",{class:"text-sm font-bold mr-1"},"高级模型额度",-1),xn={class:"font-bold"},wn={class:"flex justify-between items-end min-h-28"},Cn=e("span",{class:"text-sm font-bold mr-1"},"MJ绘画额度",-1),kn={class:"font-bold"},Sn={class:"flex justify-between items-end mt-5"},$n={class:"text-xl text-[red] font-bold"},zn=te({__name:"wallet",setup(o){const{isSmallMd:s,isMobile:r}=ve(),A=ue(),_=ge();mt();const u=L(()=>A.userBalance),l=O(!1),t=O(""),a=O(!1),f=O([]),b=O(!1),x=Ue({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:B=>{x.page=B,v()},onUpdatePageSize:B=>{x.pageSize=B,x.page=1,v()}}),$=L(()=>[{title:"订单编号",key:"uid"},{title:"充值类型",key:"rechargeType",render(B){return Zt[B.rechargeType]}},{title:"基础模型额度",key:"model3Count"},{title:"高级模型额度",key:"model4Count"},{title:"MJ绘画额度",key:"drawMjCount"},{title:"有效期",key:"expireDateCn"},{title:"充值时间",key:"createdAt",render(B){return B.createdAt}}]),z=O([]);async function v(){const B=await vt({page:x.page,size:x.pageSize}),{rows:I}=B.data;z.value=I}async function i(){if(!t.value)return _.warning("请先填写卡密！");try{l.value=!0,await bt({code:t.value}),_.success("卡密兑换成功、祝您使用愉快！"),v(),A.getUserInfo(),l.value=!1}catch{l.value=!1}}function p(){a.value=!0}async function M(){const B=await yt({status:1,size:30});f.value=B.data.rows}const W=L(()=>{var B;return(B=A.globalConfig)==null?void 0:B.buyCramiAddress});function X(){window.open(W.value)}return be(()=>{v()}),(B,I)=>(N(),J("div",en,[d(n(oe),null,{header:c(()=>[tn]),default:c(()=>[d(n(de),{"x-gap":24,"y-gap":24,cols:n(s)?1:2,class:"mt-3"},{default:c(()=>[d(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[nn,e("b",sn,E(u.value.sumModel3Count??0),1),F(),on]),_:1}),d(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[rn,e("b",an,E(u.value.sumModel4Count??0),1),F(),ln]),_:1}),d(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[cn,e("b",dn,E(u.value.sumDrawMjCount??0),1),F(),un]),_:1}),d(n(Q),{class:"border dark:border-[#ffffff17] rounded-sm p-3"},{default:c(()=>[fn,d(n(Ae),{wrap:!1},{default:c(()=>[d(n(se),{value:t.value,"onUpdate:value":I[0]||(I[0]=g=>t.value=g),placeholder:"请粘贴或填写您的卡密信息！",class:"mr-3",maxlength:"128","show-count":"",clearable:""},null,8,["value"]),d(n(U),{type:"primary",loading:l.value,onClick:i},{default:c(()=>[F(" 兑换 ")]),_:1},8,["loading"]),W.value?(N(),G(n(U),{key:0,type:"success",onClick:p},{default:c(()=>[F(" 购买卡密 ")]),_:1})):Z("",!0)]),_:1})]),_:1})]),_:1},8,["cols"])]),_:1}),d(n(oe),{class:"mt-5 flex-1"},{header:c(()=>[pn]),default:c(()=>[d(n(Xe),{columns:$.value,loading:b.value,"scroll-x":800,data:z.value,"max-height":"280",pagination:x},null,8,["columns","loading","data","pagination"])]),_:1}),d(n(Kt),{show:a.value,"onUpdate:show":I[1]||(I[1]=g=>a.value=g),width:n(s)?"100%":502,"on-after-enter":M},{default:c(()=>[d(n(Qt),{title:"套餐购买",closable:""},{default:c(()=>[d(n(de),{"x-gap":15,"y-gap":15,cols:n(s)?1:2,class:"mt-3"},{default:c(()=>[(N(!0),J(He,null,gt(f.value,(g,T)=>(N(),G(n(Q),{key:T},{default:c(()=>[d(n(oe),{size:"small",embedded:""},{header:c(()=>[e("div",hn,[e("b",null,E(g.name),1)])]),cover:c(()=>[e("img",{src:g.coverImg},null,8,mn)]),default:c(()=>[e("div",null,[e("p",null,E(g.des),1),e("div",vn,[gn,e("span",bn,E(g.model3Count),1)]),e("div",yn,[_n,e("span",xn,E(g.model4Count),1)]),e("div",wn,[Cn,e("span",kn,E(g.drawMjCount),1)]),e("div",Sn,[e("i",$n,E(`￥${g.price}`),1),d(n(U),{type:"primary",dashed:"",size:"small",onClick:X},{default:c(()=>[F(" 购买套餐 ")]),_:1})])])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["cols"])]),_:1})]),_:1},8,["show","width"])]))}}),Tn={class:"flex flex-col justify-center items-center"},En={class:"text-2xl text-primary self-start mb-3 flex justify-between w-full"},An=e("span",null,"Profile",-1),Pn={class:"mt-3 text-lg text-[#555]"},Mn={class:"text-[#95aac9] mt-2"},Bn={class:"text-[#555] mt-3 px-4"},Rn={class:"self-start"},In=e("div",{class:"flex pl-3 pt-3 text-base font-bold text-primary"},[e("span",null,"我的账户余额")],-1),On={key:0,class:"flex pl-3 pt-3 text-base font-bold text-primary"},Nn=e("span",null,"会员过期时间：",-1),Dn={class:"flex items-center space-x-4 pl-3 mt-3"},Ln=e("span",{class:"flex-shrink-0 w-24 text-primary"},"基础模型余额:",-1),jn={class:"w-[200px]"},Fn={class:"flex items-center space-x-4 pl-3 mt-3"},Un=e("span",{class:"flex-shrink-0 w-24 text-primary"},"高级模型余额:",-1),Hn={class:"w-[200px]"},Wn={class:"flex items-center space-x-4 pl-3 mt-3"},Gn=e("span",{class:"flex-shrink-0 w-24 text-primary"},"绘画余额:",-1),Xn={class:"w-[200px]"},Vn={class:"flex items-center space-x-4 pl-3 mt-3"},Yn=e("span",{class:"flex-shrink-0 w-24 text-primary"},"绑定微信:",-1),qn={class:"w-[200px]"},Kn={key:1},Jn=te({__name:"detail",setup(o){const s=ue(),r=We(),{userBalance:A}=s,_=Ge(),u=L(()=>s.userInfo.email||""),l=L(()=>s.userInfo.isBindWx),t=O(s.userInfo.avatar??he),a=O(s.userInfo.username??"未登录"),f=O(s.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。");function b(){s.logOut(),r.push("/")}const x=L(()=>s.isLogin);return be(()=>{x.value||s.setLoginDialog(!0)}),($,z)=>(N(),J("div",Tn,[e("div",En,[An,x.value?(N(),G(n(U),{key:0,tertiary:"",type:"error",onClick:b},{default:c(()=>[F(" 退出登录 ")]),_:1})):Z("",!0),x.value?Z("",!0):(N(),G(n(U),{key:1,tertiary:"",type:"success",onClick:z[0]||(z[0]=v=>n(s).setLoginDialog(!0))},{default:c(()=>[F(" 点击登入 ")]),_:1}))]),d(n(Pe),{size:148,src:t.value,"fallback-src":n(he)},null,8,["src","fallback-src"]),e("b",Pn,E(a.value),1),e("span",Mn,E(u.value),1),e("div",Bn,E(f.value),1),e("div",Rn,[In,n(A).expirationTime?(N(),J("div",On,[Nn,e("span",null,E(n(A).expirationTime),1)])):Z("",!0),e("div",Dn,[Ln,e("div",jn,E(n(A).sumModel3Count||"0")+" 积分 ",1)]),e("div",Fn,[Un,e("div",Hn,E(n(A).sumModel4Count||"0")+" 积分 ",1)]),e("div",Wn,[Gn,e("div",Xn,E(n(A).sumDrawMjCount||"0")+" 积分 ",1)]),e("div",Vn,[Yn,e("div",qn,[l.value?(N(),J("span",Kn,"已绑定微信")):(N(),G(n(U),{key:0,text:"",onClick:z[1]||(z[1]=v=>n(_).updateBindwxDialog(!0))},{default:c(()=>[F(" 点击绑定微信 ")]),_:1}))])])])]))}}),Qn=e("div",null,"变更您的密码",-1),Zn={class:"flex justify-between"},es=e("span",{class:"text-[#95AAC9]"},"更新密码完成后将重新登录！",-1),ts=e("b",{class:"text-base"},"密码要求",-1),ns=e("p",{class:"text-[#95AAC9] mt-3"}," 要创建一个新的密码，你必须满足以下所有要求。 ",-1),ss=e("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最少6个字符 ",-1),os=e("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 最多30个字符 ",-1),rs=e("div",{class:"ml-3 text-[#95AAC9] mt-2"}," 至少带有一个数字 ",-1),as=te({__name:"password",setup(o){const s=O({oldPassword:"",password:"",reenteredPassword:""}),r=s,A=O(null),_=O(null),u={oldPassword:[{required:!0,min:6,message:"密码最短长度为6位数",trigger:["blur"]},{required:!0,max:30,message:"密码最长长度为30位数",trigger:["blur"]}],password:[{required:!0,message:"请输入密码"}],reenteredPassword:[{required:!0,message:"请再次输入密码",trigger:["input","blur"]},{validator:l,message:"两次密码输入不一致",trigger:"input"},{validator:t,message:"两次密码输入不一致",trigger:["blur","password-input"]}]};function l(i,p){return!!s.value.password&&s.value.password.startsWith(p)&&s.value.password.length>=p.length}function t(i,p){return p===s.value.password}function a(){var i;s.value.reenteredPassword&&((i=_.value)==null||i.validate({trigger:"password-input"}))}const{isSmallXl:f}=ve(),b=ue(),x=ge();async function $(i){(await xt(i)).success&&x.success("密码更新成功、请重新登录系统！"),z(),b.updatePasswordSuccess()}function z(){s.value={oldPassword:"",password:"",reenteredPassword:""}}function v(i){var p;i.preventDefault(),(p=A.value)==null||p.validate(async M=>{if(!M){const{oldPassword:W,password:X}=s.value;$({oldPassword:W,password:X})}})}return(i,p)=>(N(),G(n(oe),null,{header:c(()=>[Qn]),default:c(()=>[d(n(de),{"x-gap":24,"y-gap":24,cols:n(f)?1:3,class:"mt-3"},{default:c(()=>[d(n(Q),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:"2"},{default:c(()=>[d(n(_t),{ref_key:"formRef",ref:A,model:n(r),rules:u},{default:c(()=>[d(n(Se),{path:"oldPassword",label:"旧密码"},{default:c(()=>[d(n(se),{value:n(r).oldPassword,"onUpdate:value":p[0]||(p[0]=M=>n(r).oldPassword=M),onKeydown:p[1]||(p[1]=$e(Oe(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),d(n(Se),{path:"password",label:"新密码"},{default:c(()=>[d(n(se),{value:n(r).password,"onUpdate:value":p[2]||(p[2]=M=>n(r).password=M),type:"password",onInput:a,onKeydown:p[3]||(p[3]=$e(Oe(()=>{},["prevent"]),["enter"]))},null,8,["value"])]),_:1}),d(n(Se),{ref_key:"rPasswordFormItemRef",ref:_,first:"",path:"reenteredPassword",label:"确认密码"},{default:c(()=>[d(n(se),{value:n(r).reenteredPassword,"onUpdate:value":p[4]||(p[4]=M=>n(r).reenteredPassword=M),disabled:!n(r).password,type:"password",tabindex:"0",onKeyup:$e(v,["enter"])},null,8,["value","disabled"])]),_:1},512),e("div",Zn,[es,d(n(U),{disabled:n(r).oldPassword===null,type:"primary",onClick:v},{default:c(()=>[F(" 更新您的密码 ")]),_:1},8,["disabled"])])]),_:1},8,["model"])]),_:1}),d(n(Q),{class:"border rounded-sm p-3 bg-[#f8f9fa] h-48 dark:bg-[#18181c] dark:border-[#ffffff17]"},{default:c(()=>[ts,ns,ss,os,rs]),_:1})]),_:1},8,["cols"])]),_:1}))}});var Ve={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */(function(o,s){(function(A,_){o.exports=_()})(wt,function(){return function(){var r={686:function(u,l,t){t.d(l,{default:function(){return ke}});var a=t(279),f=t.n(a),b=t(370),x=t.n(b),$=t(817),z=t.n($);function v(C){try{return document.execCommand(C)}catch{return!1}}var i=function(m){var h=z()(m);return v("cut"),h},p=i;function M(C){var m=document.documentElement.getAttribute("dir")==="rtl",h=document.createElement("textarea");h.style.fontSize="12pt",h.style.border="0",h.style.padding="0",h.style.margin="0",h.style.position="absolute",h.style[m?"right":"left"]="-9999px";var y=window.pageYOffset||document.documentElement.scrollTop;return h.style.top="".concat(y,"px"),h.setAttribute("readonly",""),h.value=C,h}var W=function(m,h){var y=M(m);h.container.appendChild(y);var w=z()(y);return v("copy"),y.remove(),w},X=function(m){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},y="";return typeof m=="string"?y=W(m,h):m instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(m==null?void 0:m.type)?y=W(m.value,h):(y=z()(m),v("copy")),y},B=X;function I(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(h){return typeof h}:I=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},I(C)}var g=function(){var m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},h=m.action,y=h===void 0?"copy":h,w=m.container,P=m.target,Y=m.text;if(y!=="copy"&&y!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(P!==void 0)if(P&&I(P)==="object"&&P.nodeType===1){if(y==="copy"&&P.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(y==="cut"&&(P.hasAttribute("readonly")||P.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(Y)return B(Y,{container:w});if(P)return y==="cut"?p(P):B(P,{container:w})},T=g;function S(C){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(h){return typeof h}:S=function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},S(C)}function k(C,m){if(!(C instanceof m))throw new TypeError("Cannot call a class as a function")}function j(C,m){for(var h=0;h<m.length;h++){var y=m[h];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(C,y.key,y)}}function H(C,m,h){return m&&j(C.prototype,m),h&&j(C,h),C}function V(C,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(m&&m.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),m&&K(C,m)}function K(C,m){return K=Object.setPrototypeOf||function(y,w){return y.__proto__=w,y},K(C,m)}function ye(C){var m=we();return function(){var y=re(C),w;if(m){var P=re(this).constructor;w=Reflect.construct(y,arguments,P)}else w=y.apply(this,arguments);return _e(this,w)}}function _e(C,m){return m&&(S(m)==="object"||typeof m=="function")?m:xe(C)}function xe(C){if(C===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C}function we(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function re(C){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)},re(C)}function le(C,m){var h="data-clipboard-".concat(C);if(m.hasAttribute(h))return m.getAttribute(h)}var Ce=function(C){V(h,C);var m=ye(h);function h(y,w){var P;return k(this,h),P=m.call(this),P.resolveOptions(w),P.listenClick(y),P}return H(h,[{key:"resolveOptions",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof w.action=="function"?w.action:this.defaultAction,this.target=typeof w.target=="function"?w.target:this.defaultTarget,this.text=typeof w.text=="function"?w.text:this.defaultText,this.container=S(w.container)==="object"?w.container:document.body}},{key:"listenClick",value:function(w){var P=this;this.listener=x()(w,"click",function(Y){return P.onClick(Y)})}},{key:"onClick",value:function(w){var P=w.delegateTarget||w.currentTarget,Y=this.action(P)||"copy",ae=T({action:Y,container:this.container,target:this.target(P),text:this.text(P)});this.emit(ae?"success":"error",{action:Y,text:ae,trigger:P,clearSelection:function(){P&&P.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(w){return le("action",w)}},{key:"defaultTarget",value:function(w){var P=le("target",w);if(P)return document.querySelector(P)}},{key:"defaultText",value:function(w){return le("text",w)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(w){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return B(w,P)}},{key:"cut",value:function(w){return p(w)}},{key:"isSupported",value:function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],P=typeof w=="string"?[w]:w,Y=!!document.queryCommandSupported;return P.forEach(function(ae){Y=Y&&!!document.queryCommandSupported(ae)}),Y}}]),h}(f()),ke=Ce},828:function(u){var l=9;if(typeof Element<"u"&&!Element.prototype.matches){var t=Element.prototype;t.matches=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector}function a(f,b){for(;f&&f.nodeType!==l;){if(typeof f.matches=="function"&&f.matches(b))return f;f=f.parentNode}}u.exports=a},438:function(u,l,t){var a=t(828);function f($,z,v,i,p){var M=x.apply(this,arguments);return $.addEventListener(v,M,p),{destroy:function(){$.removeEventListener(v,M,p)}}}function b($,z,v,i,p){return typeof $.addEventListener=="function"?f.apply(null,arguments):typeof v=="function"?f.bind(null,document).apply(null,arguments):(typeof $=="string"&&($=document.querySelectorAll($)),Array.prototype.map.call($,function(M){return f(M,z,v,i,p)}))}function x($,z,v,i){return function(p){p.delegateTarget=a(p.target,z),p.delegateTarget&&i.call($,p)}}u.exports=b},879:function(u,l){l.node=function(t){return t!==void 0&&t instanceof HTMLElement&&t.nodeType===1},l.nodeList=function(t){var a=Object.prototype.toString.call(t);return t!==void 0&&(a==="[object NodeList]"||a==="[object HTMLCollection]")&&"length"in t&&(t.length===0||l.node(t[0]))},l.string=function(t){return typeof t=="string"||t instanceof String},l.fn=function(t){var a=Object.prototype.toString.call(t);return a==="[object Function]"}},370:function(u,l,t){var a=t(879),f=t(438);function b(v,i,p){if(!v&&!i&&!p)throw new Error("Missing required arguments");if(!a.string(i))throw new TypeError("Second argument must be a String");if(!a.fn(p))throw new TypeError("Third argument must be a Function");if(a.node(v))return x(v,i,p);if(a.nodeList(v))return $(v,i,p);if(a.string(v))return z(v,i,p);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function x(v,i,p){return v.addEventListener(i,p),{destroy:function(){v.removeEventListener(i,p)}}}function $(v,i,p){return Array.prototype.forEach.call(v,function(M){M.addEventListener(i,p)}),{destroy:function(){Array.prototype.forEach.call(v,function(M){M.removeEventListener(i,p)})}}}function z(v,i,p){return f(document.body,v,i,p)}u.exports=b},817:function(u){function l(t){var a;if(t.nodeName==="SELECT")t.focus(),a=t.value;else if(t.nodeName==="INPUT"||t.nodeName==="TEXTAREA"){var f=t.hasAttribute("readonly");f||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),f||t.removeAttribute("readonly"),a=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var b=window.getSelection(),x=document.createRange();x.selectNodeContents(t),b.removeAllRanges(),b.addRange(x),a=b.toString()}return a}u.exports=l},279:function(u){function l(){}l.prototype={on:function(t,a,f){var b=this.e||(this.e={});return(b[t]||(b[t]=[])).push({fn:a,ctx:f}),this},once:function(t,a,f){var b=this;function x(){b.off(t,x),a.apply(f,arguments)}return x._=a,this.on(t,x,f)},emit:function(t){var a=[].slice.call(arguments,1),f=((this.e||(this.e={}))[t]||[]).slice(),b=0,x=f.length;for(b;b<x;b++)f[b].fn.apply(f[b].ctx,a);return this},off:function(t,a){var f=this.e||(this.e={}),b=f[t],x=[];if(b&&a)for(var $=0,z=b.length;$<z;$++)b[$].fn!==a&&b[$].fn._!==a&&x.push(b[$]);return x.length?f[t]=x:delete f[t],this}},u.exports=l,u.exports.TinyEmitter=l}},A={};function _(u){if(A[u])return A[u].exports;var l=A[u]={exports:{}};return r[u](l,l.exports,_),l.exports}return function(){_.n=function(u){var l=u&&u.__esModule?function(){return u.default}:function(){return u};return _.d(l,{a:l}),l}}(),function(){_.d=function(u,l){for(var t in l)_.o(l,t)&&!_.o(u,t)&&Object.defineProperty(u,t,{enumerable:!0,get:l[t]})}}(),function(){_.o=function(u,l){return Object.prototype.hasOwnProperty.call(u,l)}}(),_(686)}().default})})(Ve);var is=Ve.exports;const ls=Ct(is),cs=o=>{const s=(o==null?void 0:o.appendToBody)===void 0?!0:o.appendToBody;return{toClipboard(r,A){return new Promise((_,u)=>{const l=document.createElement("button"),t=new ls(l,{text:()=>r,action:()=>"copy",container:A!==void 0?A:document.body});t.on("success",a=>{t.destroy(),_(a)}),t.on("error",a=>{t.destroy(),u(a)}),s&&document.body.appendChild(l),l.click(),s&&document.body.removeChild(l)})}}},ds=e("div",null,"邀用户、得福利!",-1),us=e("div",{class:"text-[#95aac9] mb-2 text-base"}," 我的邀请码 ",-1),fs={class:"text-2xl text-[#555] dark:text-[#fff] whitespace-nowrap"},ps=e("b",{class:"text-[000]"},"Tips",-1),hs={class:"flex flex-col text-[#707384]"},ms=e("div",null,"邀请记录",-1),vs=te({__name:"invite",setup(o){const{toClipboard:s}=cs(),r=ue(),A=L(()=>r.userInfo.inviteCode),_=L(()=>r.globalConfig),{isSmallXl:u,isMobile:l}=ve(),t=ge(),a=O(!1),f=Ue({page:1,pageSize:10,showSizePicker:!0,pageSizes:[10,20,50],onChange:i=>{f.page=i,z()},onUpdatePageSize:i=>{f.pageSize=i,f.page=1,z()}}),b=L(()=>[{title:"头像",key:"avatar",render(i){return D(Pe,{src:i.avatar,size:"small",round:!0})}},{title:"用户名称",key:"username"},{title:"用户邮箱",key:"email"},{title:"受邀人状态",key:"status",render(i){return D(U,{type:i.status===1?"primary":"error",size:"small",round:!0,quaternary:!0},{default:()=>i.status===1?"已认证":"未激活"})}},{title:"邀请时间",key:"createdAt",render(i){return D("div",{style:{fontSize:"12px",color:"#999"}},()=>i.createdAt)}},{title:"获得奖励状态",key:"status",render(i){return D(U,{type:i.status===1?"success":"warning",size:"small",round:!0,quaternary:!0},{default:()=>i.status===1?"已领取邀请奖励":"等待受邀人确认"})}}]),x=O([]);async function $(){const i=await St();if(!i.data)return t.error(i.message);t.success("生成邀请链接成功"),r.getUserInfo()}async function z(){try{a.value=!0;const i=await kt({page:f.page,size:f.pageSize});x.value=i.data.rows,a.value=!1}catch{a.value=!1}}async function v(){if(!A.value)return t.error("请先生成您的专属邀请链接！");const i=`${window.location.href}?inVitecode=${A.value}`;try{await s(i),t.success("复制专属邀请链接成功！")}catch{t.error("当前设置不支持自动复制、手动复制吧！")}}return be(()=>{z()}),(i,p)=>(N(),J(He,null,[d(n(oe),null,{header:c(()=>[ds]),default:c(()=>[d(n(de),{"x-gap":24,"y-gap":24,cols:n(u)?1:3,class:"mt-3"},{default:c(()=>{var M;return[d(n(Q),{class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:2},{default:c(()=>[us,e("div",{class:Te(["flex justify-between",[n(u)?"flex-col mt-3":""]])},[e("b",fs,E(A.value||"********"),1),d(n(Ae),{class:Te([n(u)?" mt-3":""])},{default:c(()=>[d(n(U),{type:"success",onClick:$},{default:c(()=>[F(" 生成专属邀请码 ")]),_:1}),d(n(U),{type:"primary",onClick:v},{default:c(()=>[F(" 复制专属邀请链接 ")]),_:1})]),_:1},8,["class"])],2)]),_:1}),Number((M=_.value)==null?void 0:M.inviteSendStatus)===1?(N(),G(n(Q),{key:0,class:"border rounded-sm p-3 dark:border-[#ffffff17]",span:1},{default:c(()=>[ps,e("div",hs,[e("span",null,"邀请一位用户赠送"+E(_.value.inviteGiveSendModel3Count)+"积分基础模型额度+"+E(_.value.inviteGiveSendModel4Count)+"积分高级模型额度+"+E(_.value.inviteGiveSendDrawMjCount)+"MJ绘画积分额度",1),e("span",null,"收到邀请用户获得"+E(_.value.invitedGuestSendModel3Count)+"积分基础模型额度+"+E(_.value.invitedGuestSendModel4Count)+"积分高级模型额度+"+E(_.value.invitedGuestSendDrawMjCount)+"MJ绘画积分额度",1)])]),_:1})):Z("",!0)]}),_:1},8,["cols"])]),_:1}),d(n(oe),{class:"mt-5"},{header:c(()=>[ms]),default:c(()=>[d(n(Xe),{loading:a.value,remote:!0,"pagination-behavior-on-filter":"first",class:"min-h-[350px]",columns:b.value,data:x.value,pagination:f,"scroll-x":500},null,8,["loading","columns","data","pagination"])]),_:1})],64))}}),gs={class:"flex flex-col justify-center items-center"},bs={class:"text-2xl text-primary self-start mb-14 flex justify-between w-full"},ys=e("span",null,"Profile",-1),_s={class:"mt-3 text-lg text-[#555]"},xs={class:"text-[#95aac9] mt-2"},ws={class:"text-[#555] mt-3 px-4"},Cs={class:"self-start mt-16"},ks=e("div",{class:"text-xl text-primary"}," 我在本站的使用记录 ",-1),Ss={class:"flex items-center space-x-4 pl-3 mt-3"},$s=e("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型积分:",-1),zs={class:"w-[230px]"},Ts={class:"flex items-center space-x-4 pl-3 mt-3"},Es=e("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型积分:",-1),As={class:"w-[230px]"},Ps={class:"flex items-center space-x-4 pl-3 mt-3"},Ms=e("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"基础模型使用:",-1),Bs={class:"w-[230px]"},Rs={class:"flex items-center space-x-4 pl-3 mt-3"},Is=e("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"高级模型使用:",-1),Os={class:"w-[230px]"},Ns={class:"flex items-center space-x-4 pl-3 mt-3"},Ds=e("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绘画使用积分:",-1),Ls={class:"w-[230px]"},js={key:0,class:"flex items-center space-x-4 pl-3 mt-3"},Fs=e("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Us={class:"w-[230px]"},Hs={key:1},Ws={key:1,class:"flex items-center space-x-4 pl-3 mt-3"},Gs=e("span",{class:"flex-shrink-0 w-[90px] text-keft text-primary"},"绑定微信:",-1),Xs={class:"w-[230px]"},Vs={key:0,class:"flex text-[red] pt-8 text-base font-bold"},Ys=e("span",null,"会员过期时间：",-1),qs={key:1},Ks={class:"flex items-center space-x-4"},Js={class:"flex-shrink-0 w-[60px]"},Qs={class:"flex-1"},Zs={class:"flex items-center space-x-4 mt-5"},eo={class:"flex-shrink-0 w-[60px]"},to={class:"flex-1"},no={class:"flex space-x-4 mt-5"},so={class:"flex-shrink-0 w-[60px]"},oo={class:"flex-1"},po=te({__name:"index",setup(o){const s=Ge(),r=ue(),A=We(),_=O(0),u=L(()=>r.userBalance),l=L(()=>{var T;return(T=r.globalConfig)==null?void 0:T.isUseWxLogin}),t=O(!0),a=L(()=>r.isLogin),f=ge(),b=L(()=>r.userInfo.email||""),x=L(()=>r.userInfo.isBindWx),$=O(r.userInfo.avatar??he),z=O(r.userInfo.username??"未登录"),v=O(r.userInfo.sign??"我是一台基于深度学习和自然语言处理技术的 AI 机器人，旨在为用户提供高效、精准、个性化的智能服务。"),i=O(!1),{isSmallLg:p,isMobile:M}=ve();async function W(){const T=await $t();_.value=T.data||0}async function X(){(await At()).success&&f.success("已同步数据完成"),W()}async function B(T){try{i.value=!0;const S=await Pt(T);if(i.value=!1,!S.success)return f.error(S.message);f.success(Mt("common.updateUserSuccess")),r.getUserInfo()}catch{i.value=!1}}function I(){a.value||r.setLoginDialog(!0)}be(()=>{I(),W()});function g(){r.logOut(),A.push("/")}return setTimeout(()=>{t.value=!1},500),(T,S)=>(N(),G(n(Et),{"has-sider":"",class:"flex h-full"},{default:c(()=>[n(p)?Z("",!0):(N(),G(n(Rt),{key:0,"content-style":"padding: 24px;",bordered:"",width:"380"},{default:c(()=>[e("div",gs,[e("div",bs,[ys,d(n(U),{tertiary:"",type:"error",onClick:g},{default:c(()=>[F(" 退出登录 ")]),_:1})]),d(n(Pe),{size:148,src:$.value,"fallback-src":n(he)},null,8,["src","fallback-src"]),e("b",_s,E(z.value),1),e("span",xs,E(b.value),1),e("div",ws,E(v.value),1),e("div",Cs,[ks,e("div",Ss,[$s,e("div",zs,E(u.value.useModel3Count||"0")+" 积分 ",1)]),e("div",Ts,[Es,e("div",As,E(u.value.useModel4Count||"0")+" 积分 ",1)]),e("div",Ps,[Ms,e("div",Bs,E(u.value.useModel3Token||"0")+" Token ",1)]),e("div",Rs,[Is,e("div",Os,E(u.value.useModel4Token||"0")+" Token ",1)]),e("div",Ns,[Ds,e("div",Ls,E(u.value.useDrawMjToken||"0")+" 积分 ",1)]),l.value?(N(),J("div",js,[Fs,e("div",Us,[x.value?(N(),J("span",Hs,"已绑定微信")):(N(),G(n(U),{key:0,text:"",onClick:S[0]||(S[0]=k=>n(s).updateBindwxDialog(!0))},{default:c(()=>[F(" 点击绑定微信 ")]),_:1}))])])):Z("",!0),_.value>0?(N(),J("div",Ws,[Gs,e("div",Xs,[d(n(U),{text:"",onClick:X},{default:c(()=>[F(" 点击同步访客数据 ")]),_:1})])])):Z("",!0)])]),u.value.expirationTime?(N(),J("div",Vs,[Ys,e("span",null,E(u.value.expirationTime),1)])):Z("",!0)]),_:1})),e("div",{class:Te(["flex flex-col",[n(M)?"w-full":"flex-1"]]),style:Tt({padding:n(M)?"10px":"0 28px 0 28px"})},[d(n(Bt),{title:"个人中心",des:"编辑个人信息、查看更多详情",padding:(n(M),1)},null,8,["padding"]),d(n(zt),{type:"line",animated:"",class:"mt-5 flex-1"},{default:c(()=>[n(p)?(N(),G(n(ce),{key:0,name:"detail",tab:"我的详情"},{default:c(()=>[d(Jn)]),_:1})):Z("",!0),d(n(ce),{name:"account",tab:"我的钱包"},{default:c(()=>[d(zn)]),_:1}),d(n(ce),{name:"baseInfo",tab:"基础信息"},{default:c(()=>[d(n(oe),null,{header:c(()=>[t.value||!a.value?(N(),G(n(fe),{key:0,size:"medium",width:"20%"})):(N(),J("div",qs,"用户基础设置"))]),default:c(()=>[t.value||!a.value?(N(),G(n(Ae),{key:0,vertical:""},{default:c(()=>[d(n(fe),{height:"40px",size:"medium"}),d(n(fe),{height:"40px",size:"medium"}),d(n(fe),{height:"80px",size:"medium"})]),_:1})):(N(),G(n(de),{key:1,"x-gap":"12",cols:1},{default:c(()=>[d(n(Q),null,{default:c(()=>[e("div",Ks,[e("span",Js,E(T.$t("setting.avatarLink")),1),e("div",Qs,[d(n(se),{value:$.value,"onUpdate:value":S[1]||(S[1]=k=>$.value=k),placeholder:"请填写头像地址"},null,8,["value"])]),d(n(U),{size:"tiny",text:"",type:"primary",onClick:S[2]||(S[2]=k=>B({avatar:$.value}))},{default:c(()=>[F(E(T.$t("common.update")),1)]),_:1})]),e("div",Zs,[e("span",eo,E(T.$t("setting.name")),1),e("div",to,[d(n(se),{value:z.value,"onUpdate:value":S[3]||(S[3]=k=>z.value=k),placeholder:"请编辑您的用户名",maxlength:"12","show-count":"",clearable:""},null,8,["value"])]),d(n(U),{size:"tiny",text:"",type:"primary",onClick:S[4]||(S[4]=k=>B({username:z.value}))},{default:c(()=>[F(E(T.$t("common.update")),1)]),_:1})]),e("div",no,[e("span",so,E(T.$t("setting.sign")),1),e("div",oo,[d(n(se),{value:v.value,"onUpdate:value":S[5]||(S[5]=k=>v.value=k),placeholder:"请编辑您的签名",maxlength:"128","show-count":"",clearable:"",type:"textarea"},null,8,["value"])]),d(n(U),{size:"tiny",text:"",type:"primary",onClick:S[6]||(S[6]=k=>B({sign:v.value}))},{default:c(()=>[F(E(T.$t("common.update")),1)]),_:1})])]),_:1})]),_:1}))]),_:1})]),_:1}),d(n(ce),{name:"password",tab:"密码管理"},{default:c(()=>[d(as)]),_:1}),d(n(ce),{name:"invite",tab:"邀请得福利"},{default:c(()=>[d(vs)]),_:1})]),_:1})],6)]),_:1}))}});export{po as default};
